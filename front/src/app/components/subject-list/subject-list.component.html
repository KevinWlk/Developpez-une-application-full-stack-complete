<div class="container mx-auto py-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Thèmes disponibles</h2>

  <div *ngIf="isLoading" class="text-center">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    <p>Chargement des thèmes...</p>
  </div>

  <div *ngIf="!isLoading && subjects.length > 0">
    <div *ngFor="let subject of subjects" class="mb-4 border-b pb-4">
      <h3 class="text-xl font-bold text-blue-600">{{ subject.name }}</h3>
      <p class="text-gray-700">{{ subject.description }}</p>
      <p class="text-sm text-gray-500">Créé le : {{ subject.createdAt | date: 'longDate' }}</p>

      <button
        mat-raised-button
        color="{{ isSubscribed(subject.id) ? 'warn' : 'primary' }}"
        (click)="toggleSubscription(subject.id)"
      >
        {{ isSubscribed(subject.id) ? 'Ne plus suivre' : 'Suivre' }}
      </button>
    </div>
  </div>

  <div *ngIf="!isLoading && subjects.length === 0" class="text-center">
    <p>Aucun thème disponible pour le moment.</p>
  </div>
</div>
