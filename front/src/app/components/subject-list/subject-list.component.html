<div class="container mx-auto py-6 px-4">
  <!-- Titre de la page -->
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Thèmes disponibles</h2>

  <!-- Loader -->
  <div *ngIf="isLoading" class="text-center">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    <p>Chargement des thèmes...</p>
  </div>

  <!-- Grille de sujets -->
  <div *ngIf="!isLoading && subjects.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div *ngFor="let subject of subjects" class="bg-white shadow-md rounded-lg p-4 border border-gray-200">
      <h3 class="text-xl font-bold text-gray-900">{{ subject.name }}</h3>
      <p class="text-gray-700 my-2">{{ subject.description }}</p>

      <!-- Bouton d'abonnement -->
      <button
        class="w-full py-2 rounded-lg text-white font-semibold transition"
        [class.bg-purple-600]="!isSubscribed(subject.id)"
        [class.bg-gray-400]="isSubscribed(subject.id)"
        (click)="toggleSubscription(subject.id)"
      >
        {{ isSubscribed(subject.id) ? 'Se désabonner' : 'S\'abonner' }}
      </button>
    </div>
  </div>

  <!-- Aucun thème disponible -->
  <div *ngIf="!isLoading && subjects.length === 0" class="text-center text-gray-600">
    <p>Aucun thème disponible pour le moment.</p>
  </div>
</div>
